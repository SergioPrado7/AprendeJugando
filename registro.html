<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Regístrate - Aprende Jugando</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <h1 class="titulo_r cabin-sketch-bold">Regístrate para empezar a jugar</h1>

  <div class="registro cabin-sketch-bold">
    <form action="">
      <div class="nombre contenedor">
        <label for="nombre">Nombre</label>
        <input type="text" id="nombre" name="nombre" placeholder="Ingresa tu nombre" autocomplete="off">
      </div>
      <div class="apellido_p contenedor">
        <label for="apellido_p">Apellido Paterno</label>
        <input type="text" id="apellido_p" name="apellido_p" placeholder="Ingresa tu apellido paterno">
      </div>
      <div class="apellido_m contenedor">
        <label for="apellido_m">Apellido Materno</label>
        <input type="text" id="apellido_m" name="apellido_m" placeholder="Ingresa tu apellido materno">
      </div>
      <div class="nombre_u contenedor">
        <label for="nombre_u">Nombre de usuario</label>
        <input type="text" id="nombre_u" name="nombre_u" placeholder="Ingresa tu nombre de usuario">
      </div>
      <div class="edad contenedor">
        <label for="edad">Edad</label>
        <input type="number" id="edad" name="edad" min="0" max="99" placeholder="Ingresa tu edad">
      </div>
      <div class="correo contenedor">
        <label for="correo">Correo electrónico</label>
        <input type="email" id="correo" name="correo" placeholder="Ingresa un correo electrónico">
      </div>
      <div class="contrasena contenedor">
        <label for="contrasena">Contraseña</label>
        <input type="password" id="contrasena" name="contrasena" placeholder="Ingresa tu contraseña">
      </div>
      <div class="estado contenedor">
        <label for="estado">Selecciona tu estado</label>
        <select name="estado" id="estado">
          <option value="">Selecciona un estado</option>
          <option value="aguascalientes">Aguascalientes</option>
          <option value="bajacalifornia">Baja California</option>
          <option value="bajacaliforniasur">Baja California Sur</option>
          <option value="campeche">Campeche</option>
          <option value="cdmx">Ciudad de México</option>
          <option value="chiapas">Chiapas</option>
          <option value="chihuahua">Chihuahua</option>
          <option value="coahuila">Coahuila</option>
          <option value="colima">Colima</option>
          <option value="durango">Durango</option>
          <option value="edomex">Estado de México</option>
          <option value="guanajuato">Guanajuato</option>
          <option value="guerrero">Guerrero</option>
          <option value="hidalgo">Hidalgo</option>
          <option value="jalisco">Jalisco</option>
          <option value="michoacan">Michoacán</option>
          <option value="morelos">Morelos</option>
          <option value="nayarit">Nayarit</option>
          <option value="nuevoleon">Nuevo León</option>
          <option value="oaxaca">Oaxaca</option>
          <option value="puebla">Puebla</option>
          <option value="queretaro">Querétaro</option>
          <option value="quintanaroo">Quintana Roo</option>
          <option value="sanluispotosi">San Luis Potosí</option>
          <option value="sinaloa">Sinaloa</option>
          <option value="sonora">Sonora</option>
          <option value="tabasco">Tabasco</option>
          <option value="tamaulipas">Tamaulipas</option>
          <option value="tlaxcala">Tlaxcala</option>
          <option value="veracruz">Veracruz</option>
          <option value="yucatan">Yucatán</option>
          <option value="zacatecas">Zacatecas</option>
        </select>
      </div>
      <div class="enviar">
        <input type="submit" id="enviar" value="Registrarse">
      </div>
    </form>
    <script>
  const form = document.querySelector('form');
  form.addEventListener('submit', async (e) => {
    e.preventDefault();

    const data = {
      nombre: document.getElementById('nombre').value,
      apellido_p: document.getElementById('apellido_p').value,
      apellido_m: document.getElementById('apellido_m').value,
      nombre_u: document.getElementById('nombre_u').value,
      edad: document.getElementById('edad').value,
      correo: document.getElementById('correo').value,
      contrasena: document.getElementById('contrasena').value,
      estado: document.getElementById('estado').value
    };

    const response = await fetch('http://localhost:3000/registrar', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(data)
    });

    const result = await response.json();
    alert(result.message || result.error);
  });
</script>

    <!-- Nubes de fondo -->
    <img src="/assets/cloud.png" alt="Nube" class="cloudRegistroClase cloudRegistro" />
    <img src="/assets/cloud.png" alt="Nube" class="cloudRegistroClase cloudRegistro2" />
    <img src="/assets/cloud.png" alt="Nube" class="cloudRegistroClase cloudRegistro3" />
  </div>
</body>
</html>